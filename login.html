<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8" />
	<title>Sign in - Tardecryptomaxfxt</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- graph card -->
	<meta name="description" content="Begin a journey with us. Invest and start earning.">

	<meta name="keywords" content="bitcoin, ethereum, trading, buy, sell, cryptocurrency, investment, payment">

	<meta name="author" content="Tardecryptomaxfxt">
	<!-- Facebook integration -->
	<meta property="og:title" content="Tardecryptomaxfxt" />
	<meta property="og:image" content="" />
	<meta property="og:image:width" content="150" />
	<meta property="og:image:height" content="150" />
	<meta property="og:url" content="" />
	<meta property="og:site_name" content="Tardecryptomaxfxt" />
	<meta property="og:description"
		content="Cryptocurrency trading and investment platform. Refer and earn percentage (10%) of your referral's investment." />
	<!-- Twitter integration -->
	<meta name="twitter:title" content="Tardecryptomaxfxt" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card"
		content="Cryptocurrency trading and investment platform. Refer &amp; earn ten percentage (10%) of your referral's investment." />
	<!-- graph card ends -->
	<!-- Include the Firebase SDK -->
	<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.6.3/firebase-database.js"></script>
	<script>
		// Firebase configuration
		const firebaseConfig = {
			apiKey: "AIzaSyCUslMMhWhzMibDzcCFVEyJygdLnW9Q1Nc",
			authDomain: "stock-crypto-test.firebaseapp.com",
			projectId: "stock-crypto-test",
			storageBucket: "stock-crypto-test.appspot.com",
			messagingSenderId: "999345919651",
			appId: "1:999345919651:web:cded170ca4548544c39116"
		};

		// Initialize Firebase
		const app = firebase.initializeApp(firebaseConfig);
		const auth = firebase.auth();
		const database = firebase.database();
	</script>

	<!-- Favicon -->
	<link rel="shortcut icon" href="images/favicon.png">

	<!-- Template CSS Files -->
	<!--<link rel="stylesheet" href="css/font-awesome.min.css">-->
	<!-- Font Awesome -->
	<link rel="stylesheet" href="fontawesome-free/css/all.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="https://www.stock.cryptomaxfxt.com/css/sweetalert2.min.css">
	<link rel="stylesheet" href="css/select2.min.css">
	<script src="js/sweetalert2/sweetalert2.all.min.js"></script>
	<!-- Optional: include a polyfill for ES6 Promises for IE11 -->
	<script src="https://cdn.jsdelivr.net/npm/promise-polyfill"></script>
	<link rel="stylesheet" href="css/magnific-popup.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/skins/orange.css">

	<!-- Live Style Switcher - demo only -->
	<link rel="alternate stylesheet" type="text/css" title="orange" href="css/skins/orange.css" />
	<link rel="alternate stylesheet" type="text/css" title="green" href="css/skins/green.css" />
	<link rel="alternate stylesheet" type="text/css" title="blue" href="css/skins/blue.css" />
	<link rel="stylesheet" type="text/css" href="css/styleswitcher.css" />

	<!-- Template JS Files -->
	<script src="js/modernizr.js"></script>
	<style>
		.swal2-popup {
			font-size: 1.4rem !important;
		}
	</style>

</head>
<style>
	.firstcharacter {
		color: #FFAE11;
		float: left;
		font-family: Georgia;
		font-weight: 700;
		font-size: 35px;
		line-height: 22px;
		padding-top: 4px;
	}
</style>

<body class="auth-page">
	<!-- Wrapper Starts -->
	<div class="wrapper">
		<div class="container user-auth">
			<div class="row">
				<div class="col-md-4 col-md-offset-4">

					<div class="well" style="margin-top: 70px;">
						<!-- Section Title Starts -->
						<div class="text-center" style="padding: 20px 0 10px 0">
							<a href="index.html" class="visible-xs">
								<img id="logo" src="account/uploads/logo.png" class="img-responsive mobile-logo"
									width="50" alt="logo">
								<div class="text-center font-weight-bold" style="color: #1A1B30;">
									Tardecryptomaxfxt </div>
							</a>
						</div>
						<!-- msg starts -->
						<div id="loginMsg"></div>
						<h2 class="title-head hidden-xs" style="font-size: 34px; color: #1A1B30">member
							<span>login</span>
						</h2>
						<!-- Section Title Ends -->
						<!-- Form Starts -->
						<link rel="stylesheet" href="sweetalert.css" />
						<script src="sweetalert-dev.js" type="text/javascript"></script>
						<form id="login_form" method="post" action="">
							<input type="hidden" name="csrf_token" value="a0e47fe5a1cdbdf56d666a1ec9319f64">
							<input type="hidden" name="action" value="login">
							<!-- Input Field Starts -->
							<div class="form-group">
								<input class="form-control" name="username" id="username" placeholder="E-MAIL"
									type="text" />
								<div id="username-error" style="color:#dc3545"></div>
							</div>
							<!-- Input Field Ends -->
							<!-- Input Field Starts -->
							<div class="form-group">
								<input class="form-control" name="password" id="password" placeholder="PASSWORD"
									type="password" />
								<div id="pwd-error" style="color:#dc3545"></div>
							</div>
							<!-- Input Field Ends -->
							<!-- Input Field Starts -->
							<div class="form-group">
								<label>
									<input type="checkbox" id="remember" name="remember" class="">
								</label> Remember Me?
								<span style="padding-left: 30px">
									<a href="forgot-password.php.html">Forgot</a> password?
								</span>
							</div>
							<!-- Input Field Ends -->
							<!-- Submit Form Button Starts -->
							<div class="form-group">
								<button class="btn btn-primary btn-block" name="login-user" type="button"
									id="btn-login">Login</button>
							</div>
							<p class="text-center">Don't have an account? <a href="register.html">Sign Up now</a>
							</p>
							<!-- Submit Form Button Ends -->
						</form>
						<!-- Form Ends -->
						<!-- Copyright Text Starts -->
						<small class="text-center copyright-text">Copyright &copy;
							<script>document.write(new Date().getFullYear())</script> <a href=""
								target="_blank">Tardecryptomaxfxt.</a> All Rights Reserved.
						</small>
						<!-- Copyright Text Ends -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Wrapper Ends -->
	<script>
		// Event listener for the "Login" button
		document.getElementById('btn-login').addEventListener('click', function () {
			login();
		});

		function login() {
			const email = document.getElementById("username").value;
			const password = document.getElementById("password").value;

			auth.signInWithEmailAndPassword(email, password)
				.then(function () {
					var user = auth.currentUser;

					// Check if the user exists in the database
					checkUserInDatabase(email, password);
				})
				.catch(function (error) {
            var error_code = error.code;
            var error_message = error.message;
            // Check if the error message contains the "auth/user-not-found" or "auth/wrong-password" codes
            if (error_code === "auth/user-not-found" || error_code === "auth/wrong-password") {
                alert('Username or password incorrect.');
            } else {
                alert(error_message);
            }
        });
}

		// Function to check if the user exists in the Firebase database
		function checkUserInDatabase(email, password) {
			var usersRef = database.ref("users");

			usersRef.once("value")
				.then(function (snapshot) {
					var userFound = false;
					snapshot.forEach(function (childSnapshot) {
						var userData = childSnapshot.val();

						if (userData.email === email && userData.password === password) {
							// Valid credentials, proceed with login
							userFound = true;
							return;
						}
					});

					if (userFound) {
						// Redirect or perform any action after login
						window.location.href = "dashboard.html";
					} else {
						// If the loop completes without finding a match, show an error message.
						alert('Invalid username or password.');
					}
				})
				.catch(function (error) {
					alert('Error checking user in the database: ' + error.message);
				});
		}

	</script>

	<!-- Template JS Files -->
	<script src="js/jquery-2.2.4.min.js"></script>
	<script src="js/bootstrap.min.js"></script>

	<!--Start of Tawk.to Script-->
	<script type="text/javascript">
		var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
		(function () {
			var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
			s1.async = true;
			s1.src = 'https://embed.tawk.to/64a6f480cc26a871b026cae4/1h72ik7qh';
			s1.charset = 'UTF-8';
			s1.setAttribute('crossorigin', '*');
			s0.parentNode.insertBefore(s1, s0);
		})();
	</script>
	<!--End of Tawk.to Script-->
</body>

</html>